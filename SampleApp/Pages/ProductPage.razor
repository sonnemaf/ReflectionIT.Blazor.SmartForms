@page "/product"
@using SampleApp.Models

<h1>Product</h1>

<EditForm Model="@product" TItem="Product" OnSubmit="HandleValidSubmit"
          novalidate>

    <DataAnnotationsValidator />

    <SmartInput For="(() => product.Name)"
                LabelColumnSizeMedium="4"
                CssClassDiv="mb-3"
                LabelColumSizeLarge="3"
                @bind-Value="product.Name"
                placeholder="Enter the name" />

    <SmartInput Id="up"
                CssClassDiv="mb-3"
                Prefix="$"
                LabelColumnSizeMedium="4"
                LabelColumSizeLarge="3"
                For="(() => product.UnitPrice)"
                @bind-Value="product.UnitPrice" />

    <SmartInput For="(() => product.UnitsInStock)"
                CssClassDiv="mb-3"
                LabelColumnSizeMedium="4"
                LabelColumSizeLarge="3"
                DisplayValidationMessage="false"
                @bind-Value="product.UnitsInStock" />

    <SmartInput For="(() => product.Status)"
                LabelColumnSizeMedium="4"
                CssClassDiv="mb-3"
                LabelColumSizeLarge="3"
                @bind-Value="product.Status" />

    <SmartInput For="(() => product.IsOrderable)"
                CssClassDiv="mb-3"
                LabelColumnSizeMedium="4"
                LabelColumSizeLarge="3"
                @bind-Value="product.IsOrderable" />

    <SmartInput For="(() => product.IntroductionDate)"
                CssClassDiv="mb-3"
                LabelColumnSizeMedium="4"
                LabelColumSizeLarge="3"
                @bind-Value="product.IntroductionDate" />

    <button type="submit" class="btn btn-primary">Save</button>
</EditForm>

<h3>@text</h3>

@code {
    private Product product = new();
    private string text;

    private void HandleValidSubmit(EditContext editContext) {
        text = product.ToString();
    }
}
